var ViewWidget=new Class({element:false,options:{},initialize:function(b,a){this.element=$(b);this.selectedItem=false;this.metadata=false;this.data=false;this.options=Object.extend({onSelect:$empty},a||{})},setMetadata:function(a){this.metadata=a},getMetadata:function(){return this.metadata},setData:function(a){if(!this.metadata){alert("Cannot add data without specified metadata.");return false}this.data=a},getData:function(){return this.data},getSelectedItem:function(){return this.selectedItem},setSelectedItem:function(a){if(arguments.length==0){this.selectedItem=false}else{this.selectedItem=$(a)}return this.selectedItem},select:function(a){if(this.getSelectedItem()){this.getSelectedItem().removeClass("selected")}a.addClass("selected");this.setSelectedItem(a);this.options.onSelect()}});