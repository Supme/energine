var View=new Class({Implements:[Events,Options],metadata:null,data:null,selectedItem:null,options:{onSelect:$empty},initialize:function(b,a){this.element=$(b);this.setOptions(a)},setMetadata:function(a){this.metadata=a},getMetadata:function(){return this.metadata},setData:function(a){if(!this.metadata){alert("Cannot set data without specified metadata.");return false}this.data=a},selectItem:function(a){if(this.selectedItem){this.selectedItem.removeClass("selected")}if(a){this.selectedItem=a;a.addClass("selected");this.fireEvent("onSelect",a)}},getSelectedItem:function(){return this.selectedItem}});