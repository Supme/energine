ScriptLoader.load("Form","ModalBox");var DivForm=new Class({Extends:Form,Implements:[Form.Label],initialize:function(a){this.parent(a);this.prepareLabel($("site_id").get("value")+"/list/")},resetPageContentTemplate:function(){this.request(this.singlePath+"reset-templates/"+this.componentElement.getElementById("smap_id").get("value")+"/",null,function(b){if(b.result){var a=this.componentElement.getElementById("smap_content"),c=a.getChildren()[a.selectedIndex],d=c.get("text");c.set("text",d.substring(0,d.lastIndexOf("-")))}}.bind(this))},save:function(){this.richEditors.each(function(c){c.onSaveForm()});if(!this.validator.validate()){return false}var a=this.tabPane.getTabs();var b=true;a.each(function(d){if(d.data.lang){var e=d.pane.getElement('input[type="checkbox"]');var c=e.name.test(/share_sitemap_translation\[\d+\]\[smap_is_disabled\]/)?e.checked:false;if(!c){if(d.pane.getElement('input[type="text"]').value.trim().length==0){b=false}}}});if(!b){alert(Energine.translations.get("ERR_NO_DIV_NAME"));return false}this.request(this.singlePath+"save",this.form.toQueryString(),this.processServerResponse.bind(this))}});