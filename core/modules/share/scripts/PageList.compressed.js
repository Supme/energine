var PageList=new Class({Implements:Options,options:{onPageSelect:$empty},initialize:function(a){Asset.css("pagelist.css");this.setOptions(a);this.element=new Element("ul").addClass("e-pane-toolbar e-pagelist").setProperty("unselectable","on");this.currentPage=1},getElement:function(){return this.element},disable:function(){this.disabled=true;this.element.setOpacity(0.25)},enable:function(){this.disabled=false;this.element.setOpacity(1)},_createPageLink:function(e,a,d){var a=a||false;var d=d||false;var c=new Element("li");if(d){new Element("img",{src:d,border:0,align:"absmiddle",alt:e,title:e,styles:{width:6,height:11}}).injectInside(c)}else{c.appendText(e)}c.setProperty("index",a);if(a==this.currentPage){c.addClass("current")}if(a){var b=this;c.addEvents({mouseover:function(){if(!b.disabled&&this.pageNum!=b.currentPage){this.addClass("highlighted")}},mouseout:function(){this.removeClass("highlighted")},click:function(){if(!b.disabled&&this.pageNum!=b.currentPage){b.selectPage(this)}}})}return c},build:function(b,f){this.currentPage=f;this.clear();var e=2;var g;var d=((g=(f-e))<1)?1:g;var a=((g=(f+e))>b)?b:g;if(b>5){new Element("li").adopt(new Element("input",{events:{keydown:function(i){i=new Event(i);if((i.key=="enter")&&(i.target.get("value")!="")){var h=parseInt(i.target.get("value"));i.target.value="";if(h>=1&&h<=b){this.selectPageByNum(h)}i.stop()}}.bind(this)},type:"text"})).injectInside(this.element)}if(d>1){this._createPageLink(1,1).injectInside(this.element)}if(d>2){this._createPageLink(2,2).injectInside(this.element);if(d!=2+1){this._createPageLink("...").injectInside(this.element)}}for(var c=d;c<=a;c++){if((f!=1)&&(f==c)){this._createPageLink("previous",c-1,"images/prev_page.gif").injectInside(this.element)}this._createPageLink(c,c).injectInside(this.element);if((f!=b)&&(f==c)){this._createPageLink("next",c+1,"images/next_page.gif").injectInside(this.element)}}if(a<(b-1)){if(a!=(b-2)){this._createPageLink("...").injectInside(this.element)}this._createPageLink(b-1,b-1).injectInside(this.element)}if(a<b){this._createPageLink(b,b).injectInside(this.element)}},clear:function(){while(this.element.hasChildNodes()){this.element.removeChild(this.element.firstChild)}},selectPage:function(a){this.element.getElement("li.current").removeClass("current");a.addClass("current");this.currentPage=a.getProperty("index").toInt();this.options.onPageSelect(this.currentPage)},selectPageByNum:function(a){this.currentPage=a;this.options.onPageSelect(this.currentPage)}});