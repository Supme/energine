var TabPane=new Class({options:{onTabChange:$empty},Implements:[Options,Events],initialize:function(b,a){Asset.css("tabpane.css");this.setOptions(a);this.element=$(b);this.tabs=this.element.getElement("ul.e-tabs").addClass("clearfix").getElements("li");this.tabs.each(function(f){f.setProperty("unselectable","on");var e=f.getElement("a");var d=e.getProperty("href").slice(e.getProperty("href").lastIndexOf("#"));e.addEvent("click",function(h){h=new Event(h||window.event);h.preventDefault();f.blur()});var c=f.getElement("span.data");f.data=(c?JSON.decode(c.firstChild.nodeValue):{});f.pane=this.element.getElement("div"+d).addClass("e-pane-item").setStyle("display","none");f.pane.tab=f;var g=this;f.addEvents({mouseover:function(){if(this!=g.currentTab){this.addClass("highlighted")}},mouseout:function(){this.removeClass("highlighted")},click:function(){if(this!=g.currentTab){g.show(this)}}})},this);this.show(this.currentTab=this.tabs[0])},show:function(a){this.currentTab.removeClass("current").pane.setStyle("display","none");a.addClass("current").pane.setStyle("display","");this.currentTab=a;this.fireEvent("onTabChange",this.currentTab.data)},getTabs:function(){return this.tabs},getCurrentTab:function(){return this.currentTab},setTabTitle:function(b,a){a=$pick(a,this.getCurrentTab());a.getElement("a").set("html",b)},whereIs:function(a){var b=$(a),c=false;while(b=b.getParent()){if(b.hasClass("e-pane-item")&&b.tab){c=b.tab;break}}return c}});