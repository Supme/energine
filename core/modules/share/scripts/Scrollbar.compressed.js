var Scrollbar=new Class({options:{type:"vertical",scrolledElement:null},initialize:function(a){this.setOptions(a);this.options.type=["vertical","horizontal"].test(this.options.type)?this.options.type:"vertical";this.element=new Element("div").setStyles({position:"absolute",background:"#EED url(images/scrollbar_bg.gif)",display:"none"}).injectInside(document.body);this.knob=new Element("div").setStyles({background:"#EED url(images/scrollbar_knob.gif)",width:"16px",height:"20px"}).injectInside(this.element);this.contents=this.options.scrolledElement.getFirst()},scrolledElement:function(a){if(a.wheel<0){this.set(this.step+1)}else{if(a.wheel>0){this.set(this.step-1)}}a.stop()},setup:function(a){if(!a){this.element.setStyle("display","none");return}if(!this.options.scrolledElement){return false}var b=this.options.scrolledElement.getSize();if(b.size.y>=b.scrollSize.y){a=0}this.steps=a;if(!this.contentsTuned){this.contentsTuned=true;this.contents.setStyle("width",this.contents.getSize().size.x-16+"px")}var c=this.contents.getCoordinates();this.element.setStyles({display:"",top:c.top-(Browser.Engine.trident?(window.singleMode?-1:24):0)+"px",left:c.right+(Browser.Engine.trident?2:1)+"px",width:"16px",height:this.options.scrolledElement.getSize().size.y-1+"px"});if(!this.slider){this.slider=new Slider(this.element,this.knob,{mode:this.options.type,onChange:function(e){var d=this.options.scrolledElement.getSize();this.options.scrolledElement.scrollTo(0,e*((d.scrollSize.y-d.size.y)/this.steps))}.bind(this)});this.contents.addEvent("mousewheel",this.scrolledElement.bindWithEvent(this.slider))}if(this.steps!=0){this.slider.options.steps=this.steps}this.slider.set(0)}});Scrollbar.implement(new Options);